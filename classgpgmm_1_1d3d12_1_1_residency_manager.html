<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>GPGMM: gpgmm::d3d12::ResidencyManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">GPGMM
   </div>
   <div id="projectbrief">GPGMM, a General-Purpose GPU Memory Management Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacegpgmm.html">gpgmm</a></li><li class="navelem"><a class="el" href="namespacegpgmm_1_1d3d12.html">d3d12</a></li><li class="navelem"><a class="el" href="classgpgmm_1_1d3d12_1_1_residency_manager.html">ResidencyManager</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classgpgmm_1_1d3d12_1_1_residency_manager-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">gpgmm::d3d12::ResidencyManager Class Reference<span class="mlabels"><span class="mlabel">final</span></span></div></div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="classgpgmm_1_1d3d12_1_1_residency_manager.html" title="ResidencyManager tracks and maintains one or more Heap within a residency cache.">ResidencyManager</a> tracks and maintains one or more <a class="el" href="classgpgmm_1_1d3d12_1_1_heap.html" title="Heap is used to represent managed ID3D12Heap or ID3D12Resource that has an implicit heap (owned by D3...">Heap</a> within a residency cache.  
 <a href="classgpgmm_1_1d3d12_1_1_residency_manager.html#details">More...</a></p>

<p><code>#include &lt;ResidencyManagerD3D12.h&gt;</code></p>
<div class="dynheader">
Inheritance diagram for gpgmm::d3d12::ResidencyManager:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classgpgmm_1_1d3d12_1_1_residency_manager.png" usemap="#gpgmm::d3d12::ResidencyManager_map" alt=""/>
  <map id="gpgmm::d3d12::ResidencyManager_map" name="gpgmm::d3d12::ResidencyManager_map">
<area href="classgpgmm_1_1d3d12_1_1_i_unknown_impl.html" alt="gpgmm::d3d12::IUnknownImpl" shape="rect" coords="109,56,317,80"/>
<area href="classgpgmm_1_1_ref_counted.html" alt="gpgmm::RefCounted" shape="rect" coords="218,0,426,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1979b48148ac12e5d628eaec13eb5ba1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgpgmm_1_1d3d12_1_1_residency_manager.html#a1979b48148ac12e5d628eaec13eb5ba1">~ResidencyManager</a> () override</td></tr>
<tr class="separator:a1979b48148ac12e5d628eaec13eb5ba1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd4b2d67bd10d99318ed1fb6444f58ee"><td class="memItemLeft" align="right" valign="top">HRESULT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgpgmm_1_1d3d12_1_1_residency_manager.html#acd4b2d67bd10d99318ed1fb6444f58ee">LockHeap</a> (<a class="el" href="classgpgmm_1_1d3d12_1_1_heap.html">Heap</a> *heap)</td></tr>
<tr class="memdesc:acd4b2d67bd10d99318ed1fb6444f58ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Locks the specified heap.  <a href="classgpgmm_1_1d3d12_1_1_residency_manager.html#acd4b2d67bd10d99318ed1fb6444f58ee">More...</a><br /></td></tr>
<tr class="separator:acd4b2d67bd10d99318ed1fb6444f58ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad39f477d3dd55f7d15c24eecadb07e73"><td class="memItemLeft" align="right" valign="top">HRESULT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgpgmm_1_1d3d12_1_1_residency_manager.html#ad39f477d3dd55f7d15c24eecadb07e73">UnlockHeap</a> (<a class="el" href="classgpgmm_1_1d3d12_1_1_heap.html">Heap</a> *heap)</td></tr>
<tr class="memdesc:ad39f477d3dd55f7d15c24eecadb07e73"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unlocks the specified heap.  <a href="classgpgmm_1_1d3d12_1_1_residency_manager.html#ad39f477d3dd55f7d15c24eecadb07e73">More...</a><br /></td></tr>
<tr class="separator:ad39f477d3dd55f7d15c24eecadb07e73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ec4639b59f22df4eef133e93dd73fe9"><td class="memItemLeft" align="right" valign="top">HRESULT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgpgmm_1_1d3d12_1_1_residency_manager.html#a7ec4639b59f22df4eef133e93dd73fe9">InsertHeap</a> (<a class="el" href="classgpgmm_1_1d3d12_1_1_heap.html">Heap</a> *heap)</td></tr>
<tr class="memdesc:a7ec4639b59f22df4eef133e93dd73fe9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add or insert the specify heap.  <a href="classgpgmm_1_1d3d12_1_1_residency_manager.html#a7ec4639b59f22df4eef133e93dd73fe9">More...</a><br /></td></tr>
<tr class="separator:a7ec4639b59f22df4eef133e93dd73fe9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dc4f4b070eb246d079e6701b7ab6cc4"><td class="memItemLeft" align="right" valign="top">HRESULT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgpgmm_1_1d3d12_1_1_residency_manager.html#a5dc4f4b070eb246d079e6701b7ab6cc4">Evict</a> (uint64_t evictSizeInBytes, const DXGI_MEMORY_SEGMENT_GROUP &amp;memorySegmentGroup)</td></tr>
<tr class="memdesc:a5dc4f4b070eb246d079e6701b7ab6cc4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Evict memory per segment.  <a href="classgpgmm_1_1d3d12_1_1_residency_manager.html#a5dc4f4b070eb246d079e6701b7ab6cc4">More...</a><br /></td></tr>
<tr class="separator:a5dc4f4b070eb246d079e6701b7ab6cc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab889d80e34d4ebca85727887ac42f982"><td class="memItemLeft" align="right" valign="top">HRESULT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgpgmm_1_1d3d12_1_1_residency_manager.html#ab889d80e34d4ebca85727887ac42f982">ExecuteCommandLists</a> (ID3D12CommandQueue *queue, ID3D12CommandList *const *commandLists, <a class="el" href="classgpgmm_1_1d3d12_1_1_residency_set.html">ResidencySet</a> *const *residencySets, uint32_t count)</td></tr>
<tr class="memdesc:ab889d80e34d4ebca85727887ac42f982"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute command lists using residency managed heaps.  <a href="classgpgmm_1_1d3d12_1_1_residency_manager.html#ab889d80e34d4ebca85727887ac42f982">More...</a><br /></td></tr>
<tr class="separator:ab889d80e34d4ebca85727887ac42f982"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cd640bcdcf754a458e56f60a84ac91f"><td class="memItemLeft" align="right" valign="top">HRESULT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgpgmm_1_1d3d12_1_1_residency_manager.html#a3cd640bcdcf754a458e56f60a84ac91f">SetVideoMemoryReservation</a> (const DXGI_MEMORY_SEGMENT_GROUP &amp;memorySegmentGroup, uint64_t reservation, uint64_t *reservationOut=nullptr)</td></tr>
<tr class="memdesc:a3cd640bcdcf754a458e56f60a84ac91f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets video memory reservation.  <a href="classgpgmm_1_1d3d12_1_1_residency_manager.html#a3cd640bcdcf754a458e56f60a84ac91f">More...</a><br /></td></tr>
<tr class="separator:a3cd640bcdcf754a458e56f60a84ac91f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aead46609a3896a7799c979c42bed6b17"><td class="memItemLeft" align="right" valign="top">DXGI_QUERY_VIDEO_MEMORY_INFO *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgpgmm_1_1d3d12_1_1_residency_manager.html#aead46609a3896a7799c979c42bed6b17">GetVideoMemoryInfo</a> (const DXGI_MEMORY_SEGMENT_GROUP &amp;memorySegmentGroup)</td></tr>
<tr class="memdesc:aead46609a3896a7799c979c42bed6b17"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current budget and memory usage.  <a href="classgpgmm_1_1d3d12_1_1_residency_manager.html#aead46609a3896a7799c979c42bed6b17">More...</a><br /></td></tr>
<tr class="separator:aead46609a3896a7799c979c42bed6b17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e75d0e53352b915a43de66b9ffd5237"><td class="memItemLeft" align="right" valign="top">HRESULT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgpgmm_1_1d3d12_1_1_residency_manager.html#a6e75d0e53352b915a43de66b9ffd5237">UpdateVideoMemorySegments</a> ()</td></tr>
<tr class="memdesc:a6e75d0e53352b915a43de66b9ffd5237"><td class="mdescLeft">&#160;</td><td class="mdescRight">Manually update the video memory budgets.  <a href="classgpgmm_1_1d3d12_1_1_residency_manager.html#a6e75d0e53352b915a43de66b9ffd5237">More...</a><br /></td></tr>
<tr class="separator:a6e75d0e53352b915a43de66b9ffd5237"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f843b77407214737dfeeee3477fb835"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structgpgmm_1_1d3d12_1_1_r_e_s_i_d_e_n_c_y___i_n_f_o.html">RESIDENCY_INFO</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgpgmm_1_1d3d12_1_1_residency_manager.html#a5f843b77407214737dfeeee3477fb835">GetInfo</a> () const</td></tr>
<tr class="memdesc:a5f843b77407214737dfeeee3477fb835"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the current residency manager usage.  <a href="classgpgmm_1_1d3d12_1_1_residency_manager.html#a5f843b77407214737dfeeee3477fb835">More...</a><br /></td></tr>
<tr class="separator:a5f843b77407214737dfeeee3477fb835"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac75c578266aba75f03bdc278a0523c5c"><td class="memItemLeft" align="right" valign="top">DXGI_MEMORY_SEGMENT_GROUP&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgpgmm_1_1d3d12_1_1_residency_manager.html#ac75c578266aba75f03bdc278a0523c5c">GetMemorySegmentGroup</a> (D3D12_HEAP_TYPE heapType) const</td></tr>
<tr class="memdesc:ac75c578266aba75f03bdc278a0523c5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Divugles the memory segment used for the specified heap type.  <a href="classgpgmm_1_1d3d12_1_1_residency_manager.html#ac75c578266aba75f03bdc278a0523c5c">More...</a><br /></td></tr>
<tr class="separator:ac75c578266aba75f03bdc278a0523c5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classgpgmm_1_1d3d12_1_1_i_unknown_impl"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classgpgmm_1_1d3d12_1_1_i_unknown_impl')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classgpgmm_1_1d3d12_1_1_i_unknown_impl.html">gpgmm::d3d12::IUnknownImpl</a></td></tr>
<tr class="memitem:a87e1fbb5727ccf1c7c37cf2eef7fe1ae inherit pub_methods_classgpgmm_1_1d3d12_1_1_i_unknown_impl"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgpgmm_1_1d3d12_1_1_i_unknown_impl.html#a87e1fbb5727ccf1c7c37cf2eef7fe1ae">IUnknownImpl</a> ()</td></tr>
<tr class="separator:a87e1fbb5727ccf1c7c37cf2eef7fe1ae inherit pub_methods_classgpgmm_1_1d3d12_1_1_i_unknown_impl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a654400af7d6e7341dbd65b959ad9d400 inherit pub_methods_classgpgmm_1_1d3d12_1_1_i_unknown_impl"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgpgmm_1_1d3d12_1_1_i_unknown_impl.html#a654400af7d6e7341dbd65b959ad9d400">~IUnknownImpl</a> ()=default</td></tr>
<tr class="separator:a654400af7d6e7341dbd65b959ad9d400 inherit pub_methods_classgpgmm_1_1d3d12_1_1_i_unknown_impl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af148920b9a182a494b17e9d940a4539a inherit pub_methods_classgpgmm_1_1d3d12_1_1_i_unknown_impl"><td class="memItemLeft" align="right" valign="top">HRESULT STDMETHODCALLTYPE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgpgmm_1_1d3d12_1_1_i_unknown_impl.html#af148920b9a182a494b17e9d940a4539a">QueryInterface</a> (REFIID riid, void **ppvObject) override</td></tr>
<tr class="separator:af148920b9a182a494b17e9d940a4539a inherit pub_methods_classgpgmm_1_1d3d12_1_1_i_unknown_impl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a498fba8b143ee29ba9c87de4c74de6e4 inherit pub_methods_classgpgmm_1_1d3d12_1_1_i_unknown_impl"><td class="memItemLeft" align="right" valign="top">ULONG STDMETHODCALLTYPE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgpgmm_1_1d3d12_1_1_i_unknown_impl.html#a498fba8b143ee29ba9c87de4c74de6e4">AddRef</a> () override</td></tr>
<tr class="separator:a498fba8b143ee29ba9c87de4c74de6e4 inherit pub_methods_classgpgmm_1_1d3d12_1_1_i_unknown_impl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e2c505fb4cf4e354835f847a4946ee5 inherit pub_methods_classgpgmm_1_1d3d12_1_1_i_unknown_impl"><td class="memItemLeft" align="right" valign="top">ULONG STDMETHODCALLTYPE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgpgmm_1_1d3d12_1_1_i_unknown_impl.html#a5e2c505fb4cf4e354835f847a4946ee5">Release</a> () override</td></tr>
<tr class="separator:a5e2c505fb4cf4e354835f847a4946ee5 inherit pub_methods_classgpgmm_1_1d3d12_1_1_i_unknown_impl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b125e84fc9a47302e56d20808a60fc3 inherit pub_methods_classgpgmm_1_1d3d12_1_1_i_unknown_impl"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgpgmm_1_1d3d12_1_1_i_unknown_impl.html#a6b125e84fc9a47302e56d20808a60fc3">DeleteThis</a> ()</td></tr>
<tr class="separator:a6b125e84fc9a47302e56d20808a60fc3 inherit pub_methods_classgpgmm_1_1d3d12_1_1_i_unknown_impl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classgpgmm_1_1_ref_counted"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classgpgmm_1_1_ref_counted')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classgpgmm_1_1_ref_counted.html">gpgmm::RefCounted</a></td></tr>
<tr class="memitem:a74c5590632f44dce1a6409f1ddeb5eca inherit pub_methods_classgpgmm_1_1_ref_counted"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgpgmm_1_1_ref_counted.html#a74c5590632f44dce1a6409f1ddeb5eca">RefCounted</a> ()=delete</td></tr>
<tr class="separator:a74c5590632f44dce1a6409f1ddeb5eca inherit pub_methods_classgpgmm_1_1_ref_counted"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae98ccadde40b5b3d25bf84c9034ac1a3 inherit pub_methods_classgpgmm_1_1_ref_counted"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgpgmm_1_1_ref_counted.html#ae98ccadde40b5b3d25bf84c9034ac1a3">RefCounted</a> (int_fast32_t initialCount)</td></tr>
<tr class="separator:ae98ccadde40b5b3d25bf84c9034ac1a3 inherit pub_methods_classgpgmm_1_1_ref_counted"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a741556aed00abb35fb7aa4120a6fe4b9 inherit pub_methods_classgpgmm_1_1_ref_counted"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgpgmm_1_1_ref_counted.html#a741556aed00abb35fb7aa4120a6fe4b9">Ref</a> ()</td></tr>
<tr class="separator:a741556aed00abb35fb7aa4120a6fe4b9 inherit pub_methods_classgpgmm_1_1_ref_counted"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a850338d6a459a388bbbcd974a470831c inherit pub_methods_classgpgmm_1_1_ref_counted"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgpgmm_1_1_ref_counted.html#a850338d6a459a388bbbcd974a470831c">Unref</a> ()</td></tr>
<tr class="separator:a850338d6a459a388bbbcd974a470831c inherit pub_methods_classgpgmm_1_1_ref_counted"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0574a850e761d5b87651a9cc78ad99b inherit pub_methods_classgpgmm_1_1_ref_counted"><td class="memItemLeft" align="right" valign="top">int_fast32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgpgmm_1_1_ref_counted.html#ad0574a850e761d5b87651a9cc78ad99b">GetRefCount</a> () const</td></tr>
<tr class="separator:ad0574a850e761d5b87651a9cc78ad99b inherit pub_methods_classgpgmm_1_1_ref_counted"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37f79c230eb0f82f20a8fe455f7664b8 inherit pub_methods_classgpgmm_1_1_ref_counted"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgpgmm_1_1_ref_counted.html#a37f79c230eb0f82f20a8fe455f7664b8">HasOneRef</a> () const</td></tr>
<tr class="separator:a37f79c230eb0f82f20a8fe455f7664b8 inherit pub_methods_classgpgmm_1_1_ref_counted"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:addb4d0384c58741a33865fdcb83eb507"><td class="memItemLeft" align="right" valign="top">static HRESULT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgpgmm_1_1d3d12_1_1_residency_manager.html#addb4d0384c58741a33865fdcb83eb507">CreateResidencyManager</a> (const <a class="el" href="structgpgmm_1_1d3d12_1_1_r_e_s_i_d_e_n_c_y___d_e_s_c.html">RESIDENCY_DESC</a> &amp;descriptor, <a class="el" href="classgpgmm_1_1d3d12_1_1_residency_manager.html">ResidencyManager</a> **ppResidencyManagerOut)</td></tr>
<tr class="memdesc:addb4d0384c58741a33865fdcb83eb507"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create residency residency manager to manage video memory.  <a href="classgpgmm_1_1d3d12_1_1_residency_manager.html#addb4d0384c58741a33865fdcb83eb507">More...</a><br /></td></tr>
<tr class="separator:addb4d0384c58741a33865fdcb83eb507"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p ><a class="el" href="classgpgmm_1_1d3d12_1_1_residency_manager.html" title="ResidencyManager tracks and maintains one or more Heap within a residency cache.">ResidencyManager</a> tracks and maintains one or more <a class="el" href="classgpgmm_1_1d3d12_1_1_heap.html" title="Heap is used to represent managed ID3D12Heap or ID3D12Resource that has an implicit heap (owned by D3...">Heap</a> within a residency cache. </p>
<p >A <a class="el" href="classgpgmm_1_1d3d12_1_1_heap.html" title="Heap is used to represent managed ID3D12Heap or ID3D12Resource that has an implicit heap (owned by D3...">Heap</a> is considered "resident" when it is accessible by the GPU. A <a class="el" href="classgpgmm_1_1d3d12_1_1_heap.html" title="Heap is used to represent managed ID3D12Heap or ID3D12Resource that has an implicit heap (owned by D3...">Heap</a> can be made explicitly resident by calling <a class="el" href="classgpgmm_1_1d3d12_1_1_residency_manager.html#acd4b2d67bd10d99318ed1fb6444f58ee" title="Locks the specified heap.">ResidencyManager::LockHeap</a> or implicitly resident by using the <a class="el" href="classgpgmm_1_1d3d12_1_1_heap.html" title="Heap is used to represent managed ID3D12Heap or ID3D12Resource that has an implicit heap (owned by D3...">Heap</a> with a <a class="el" href="classgpgmm_1_1d3d12_1_1_residency_set.html" title="Represents a set of heaps which will be &quot;made resident&quot; when executing a command-list.">ResidencySet</a> upon calling <a class="el" href="classgpgmm_1_1d3d12_1_1_residency_manager.html#ab889d80e34d4ebca85727887ac42f982" title="Execute command lists using residency managed heaps.">ResidencyManager::ExecuteCommandLists</a> or through a operation that always requires the <a class="el" href="classgpgmm_1_1d3d12_1_1_heap.html" title="Heap is used to represent managed ID3D12Heap or ID3D12Resource that has an implicit heap (owned by D3...">Heap</a> to be resident (eg. Map, Unmap).</p>
<p >Internally, the <a class="el" href="classgpgmm_1_1d3d12_1_1_residency_manager.html" title="ResidencyManager tracks and maintains one or more Heap within a residency cache.">ResidencyManager</a> keeps the application in-budget by calling ID3D12Device::Evict and ID3D12Device::MakeResident to page-out or page-in heaps, respectively. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a1979b48148ac12e5d628eaec13eb5ba1" name="a1979b48148ac12e5d628eaec13eb5ba1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1979b48148ac12e5d628eaec13eb5ba1">&#9670;&nbsp;</a></span>~ResidencyManager()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gpgmm::d3d12::ResidencyManager::~ResidencyManager </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="addb4d0384c58741a33865fdcb83eb507" name="addb4d0384c58741a33865fdcb83eb507"></a>
<h2 class="memtitle"><span class="permalink"><a href="#addb4d0384c58741a33865fdcb83eb507">&#9670;&nbsp;</a></span>CreateResidencyManager()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">HRESULT gpgmm::d3d12::ResidencyManager::CreateResidencyManager </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structgpgmm_1_1d3d12_1_1_r_e_s_i_d_e_n_c_y___d_e_s_c.html">RESIDENCY_DESC</a> &amp;&#160;</td>
          <td class="paramname"><em>descriptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgpgmm_1_1d3d12_1_1_residency_manager.html">ResidencyManager</a> **&#160;</td>
          <td class="paramname"><em>ppResidencyManagerOut</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create residency residency manager to manage video memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">descriptor</td><td>A reference to <a class="el" href="structgpgmm_1_1d3d12_1_1_r_e_s_i_d_e_n_c_y___d_e_s_c.html">RESIDENCY_DESC</a> structure that describes the residency manager. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ppResidencyManagerOut</td><td>Pointer to a memory block that recieves a pointer to the residency manager. Pass NULL to test if residency Manager creation would succeed, but not actually create the residency Manager. If NULL is passed and residency manager creating would succeed, S_FALSE is returned. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5dc4f4b070eb246d079e6701b7ab6cc4" name="a5dc4f4b070eb246d079e6701b7ab6cc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5dc4f4b070eb246d079e6701b7ab6cc4">&#9670;&nbsp;</a></span>Evict()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HRESULT gpgmm::d3d12::ResidencyManager::Evict </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>evictSizeInBytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const DXGI_MEMORY_SEGMENT_GROUP &amp;&#160;</td>
          <td class="paramname"><em>memorySegmentGroup</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Evict memory per segment. </p>
<p >Evicts until the budget is under the specified size.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">evictSizeInBytes</td><td>Target size, in bytes, to be under budget. </td></tr>
    <tr><td class="paramname">memorySegmentGroup</td><td>Memory segment to evict from. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab889d80e34d4ebca85727887ac42f982" name="ab889d80e34d4ebca85727887ac42f982"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab889d80e34d4ebca85727887ac42f982">&#9670;&nbsp;</a></span>ExecuteCommandLists()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HRESULT gpgmm::d3d12::ResidencyManager::ExecuteCommandLists </td>
          <td>(</td>
          <td class="paramtype">ID3D12CommandQueue *&#160;</td>
          <td class="paramname"><em>queue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ID3D12CommandList *const *&#160;</td>
          <td class="paramname"><em>commandLists</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgpgmm_1_1d3d12_1_1_residency_set.html">ResidencySet</a> *const *&#160;</td>
          <td class="paramname"><em>residencySets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Execute command lists using residency managed heaps. </p>
<p >Submits an array of command lists and residency sets for the specified command queue.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">queue</td><td>The command queue to submit to. </td></tr>
    <tr><td class="paramname">commandLists</td><td>The array of ID3D12CommandList command lists to be executed. </td></tr>
    <tr><td class="paramname">residencySets</td><td>The array of <a class="el" href="classgpgmm_1_1d3d12_1_1_residency_set.html" title="Represents a set of heaps which will be &quot;made resident&quot; when executing a command-list.">ResidencySet</a> residency sets to make resident. </td></tr>
    <tr><td class="paramname">count</td><td>The size of commandLists and residencySets arrays. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5f843b77407214737dfeeee3477fb835" name="a5f843b77407214737dfeeee3477fb835"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f843b77407214737dfeeee3477fb835">&#9670;&nbsp;</a></span>GetInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structgpgmm_1_1d3d12_1_1_r_e_s_i_d_e_n_c_y___i_n_f_o.html">RESIDENCY_INFO</a> gpgmm::d3d12::ResidencyManager::GetInfo </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the current residency manager usage. </p>
<dl class="section return"><dt>Returns</dt><dd>A <a class="el" href="structgpgmm_1_1d3d12_1_1_r_e_s_i_d_e_n_c_y___i_n_f_o.html">RESIDENCY_INFO</a> struct. </dd></dl>

</div>
</div>
<a id="ac75c578266aba75f03bdc278a0523c5c" name="ac75c578266aba75f03bdc278a0523c5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac75c578266aba75f03bdc278a0523c5c">&#9670;&nbsp;</a></span>GetMemorySegmentGroup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DXGI_MEMORY_SEGMENT_GROUP gpgmm::d3d12::ResidencyManager::GetMemorySegmentGroup </td>
          <td>(</td>
          <td class="paramtype">D3D12_HEAP_TYPE&#160;</td>
          <td class="paramname"><em>heapType</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Divugles the memory segment used for the specified heap type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">heapType</td><td>A D3D12_HEAP_TYPE-typed value that specifies the heap to get the memory segment for.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A DXGI_MEMORY_SEGMENT_GROUP that provides the memory segment for the specified heap type. </dd></dl>

</div>
</div>
<a id="aead46609a3896a7799c979c42bed6b17" name="aead46609a3896a7799c979c42bed6b17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aead46609a3896a7799c979c42bed6b17">&#9670;&nbsp;</a></span>GetVideoMemoryInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DXGI_QUERY_VIDEO_MEMORY_INFO * gpgmm::d3d12::ResidencyManager::GetVideoMemoryInfo </td>
          <td>(</td>
          <td class="paramtype">const DXGI_MEMORY_SEGMENT_GROUP &amp;&#160;</td>
          <td class="paramname"><em>memorySegmentGroup</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the current budget and memory usage. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">memorySegmentGroup</td><td>Memory segment to retrieve info from.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to DXGI_QUERY_VIDEO_MEMORY_INFO struct of the video memory segment info. </dd></dl>

</div>
</div>
<a id="a7ec4639b59f22df4eef133e93dd73fe9" name="a7ec4639b59f22df4eef133e93dd73fe9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ec4639b59f22df4eef133e93dd73fe9">&#9670;&nbsp;</a></span>InsertHeap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HRESULT gpgmm::d3d12::ResidencyManager::InsertHeap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgpgmm_1_1d3d12_1_1_heap.html">Heap</a> *&#160;</td>
          <td class="paramname"><em>heap</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add or insert the specify heap. </p>
<p >Inserting a heap means to have it managed by this residency manager.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">heap</td><td>A pointer to the heap being managed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acd4b2d67bd10d99318ed1fb6444f58ee" name="acd4b2d67bd10d99318ed1fb6444f58ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd4b2d67bd10d99318ed1fb6444f58ee">&#9670;&nbsp;</a></span>LockHeap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HRESULT gpgmm::d3d12::ResidencyManager::LockHeap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgpgmm_1_1d3d12_1_1_heap.html">Heap</a> *&#160;</td>
          <td class="paramname"><em>heap</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Locks the specified heap. </p>
<p >Locking a heap means the residency manager will never evict it when over budget.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">heap</td><td>A pointer to the heap being locked. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3cd640bcdcf754a458e56f60a84ac91f" name="a3cd640bcdcf754a458e56f60a84ac91f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3cd640bcdcf754a458e56f60a84ac91f">&#9670;&nbsp;</a></span>SetVideoMemoryReservation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HRESULT gpgmm::d3d12::ResidencyManager::SetVideoMemoryReservation </td>
          <td>(</td>
          <td class="paramtype">const DXGI_MEMORY_SEGMENT_GROUP &amp;&#160;</td>
          <td class="paramname"><em>memorySegmentGroup</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>reservation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"><em>reservationOut</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets video memory reservation. </p>
<p >A reservation is the lowest amount of physical memory the application need to continue operation safely.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">memorySegmentGroup</td><td>Memory segment to reserve. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">reservation</td><td>Amount of memory to reserve, in bytes. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">reservationOut</td><td>the amount of memory reserved, which may be less then the |reservation| when under video memory pressure. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad39f477d3dd55f7d15c24eecadb07e73" name="ad39f477d3dd55f7d15c24eecadb07e73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad39f477d3dd55f7d15c24eecadb07e73">&#9670;&nbsp;</a></span>UnlockHeap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HRESULT gpgmm::d3d12::ResidencyManager::UnlockHeap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgpgmm_1_1d3d12_1_1_heap.html">Heap</a> *&#160;</td>
          <td class="paramname"><em>heap</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unlocks the specified heap. </p>
<p >Unlocking a heap allows the residency manager will evict it when over budget.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">heap</td><td>A pointer to the heap being unlocked. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6e75d0e53352b915a43de66b9ffd5237" name="a6e75d0e53352b915a43de66b9ffd5237"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e75d0e53352b915a43de66b9ffd5237">&#9670;&nbsp;</a></span>UpdateVideoMemorySegments()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HRESULT gpgmm::d3d12::ResidencyManager::UpdateVideoMemorySegments </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Manually update the video memory budgets. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/gpgmm/d3d12/<a class="el" href="_residency_manager_d3_d12_8h.html">ResidencyManagerD3D12.h</a></li>
<li>src/gpgmm/d3d12/<a class="el" href="_residency_manager_d3_d12_8cpp.html">ResidencyManagerD3D12.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
